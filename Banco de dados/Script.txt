ALTER TABLE `barsystems`.`caixa_movimentacao` DROP COLUMN `id_usuario`;

ALTER TABLE `barsystems`.`caixa` MODIFY COLUMN `data_abertura` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP;

CREATE TABLE `barsystems`.`orcamento` (
  `id_orcamento` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
  `id_cliente` INTEGER UNSIGNED NOT NULL,
  `id_empresa` INTEGER UNSIGNED NOT NULL,
  `excluido` TINYINT UNSIGNED NOT NULL,
  PRIMARY KEY (`id_orcamento`)
)
ENGINE = InnoDB;

CREATE TABLE `barsystems`.`orcamento_servico` (
  `id_orcamento` INTEGER UNSIGNED NOT NULL,
  `id_servico` INTEGER UNSIGNED NOT NULL,
  `valor_real` FLOAT NOT NULL,
  `valor_cobrado` FLOAT NOT NULL
)
ENGINE = InnoDB;

CREATE TABLE `barsystems`.`orcamento_produto` (
  `id_orcamento` INTEGER UNSIGNED NOT NULL,
  `id_produto` INTEGER UNSIGNED NOT NULL,
  `quantidade` FLOAT NOT NULL,
  `valor_real` FLOAT NOT NULL,
  `valor_cobrado` FLOAT NOT NULL
)
ENGINE = InnoDB;

CREATE TABLE `barsystems`.`servico_despesa` (
  `id_servico_despesa` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(45) NOT NULL,
  `valor` FLOAT NOT NULL,
  `excluido` TINYINT UNSIGNED NOT NULL,
  PRIMARY KEY (`id_servico_despesa`)
)
ENGINE = InnoDB;

alter table orcamento add column data timestamp default CURRENT_TIMESTAMP after id_empresa

CREATE TABLE `barsystems`.`dados_empresa` (
  `razao_social` VARCHAR(50) NOT NULL,
  `nome_fantasia` VARCHAR(50) NOT NULL,
  `cnpj` VARCHAR(15) NOT NULL,
  `telefone` VARCHAR(15) NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `cep` VARCHAR(10) NOT NULL,
  `endereco` VARCHAR(45) NOT NULL,
  `bairro` VARCHAR(45) NOT NULL,
  `cidade` VARCHAR(45) NOT NULL,
  `estado` VARCHAR(2) NOT NULL,
  `id_pais_fk` INTEGER UNSIGNED NOT NULL,
  `inscricao_estadual` VARCHAR(45) NOT NULL
)
ENGINE = InnoDB;

ALTER TABLE `barsystems`.`dados_empresa` MODIFY COLUMN `cnpj` VARCHAR(20) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL;

ALTER TABLE `barsystems`.`dados_empresa` ADD COLUMN `logomarca` LONGBLOB NOT NULL AFTER `inscricao_estadual`;

ALTER TABLE `barsystems`.`dados_empresa` MODIFY COLUMN `cnpj` VARCHAR(20) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
 MODIFY COLUMN `telefone` VARCHAR(15) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
 MODIFY COLUMN `email` VARCHAR(45) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
 MODIFY COLUMN `cep` VARCHAR(10) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
 MODIFY COLUMN `endereco` VARCHAR(45) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
 MODIFY COLUMN `bairro` VARCHAR(45) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
 MODIFY COLUMN `cidade` VARCHAR(45) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
 MODIFY COLUMN `estado` VARCHAR(2) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
 MODIFY COLUMN `inscricao_estadual` VARCHAR(45) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL,
 MODIFY COLUMN `logomarca` LONGBLOB DEFAULT NULL;

insert into dados_empresa (razao_social, nome_fantasia, id_pais_fk) values ('Razão Social da empresa', 'Nome Fantasia da empresa', 26)

ALTER TABLE `barsystems`.`conta_bancaria_movimentacao` DROP COLUMN `numero_parcelas`;

ALTER TABLE `barsystems`.`conta_bancaria_movimentacao` DROP COLUMN `id_usuario`;

alter table orcamento add column desconto float after data

ALTER TABLE `barsystems`.`orcamento` CHANGE COLUMN `id_cliente` `id_cliente_fk` INT(10) UNSIGNED NOT NULL,
 CHANGE COLUMN `id_empresa` `id_empresa_fk` INT(10) UNSIGNED NOT NULL;

ALTER TABLE `barsystems`.`orcamento_servico` CHANGE COLUMN `id_orcamento` `id_orcamento_fk` INT(10) UNSIGNED NOT NULL,
 CHANGE COLUMN `id_servico` `id_servico_fk` INT(10) UNSIGNED NOT NULL;

ALTER TABLE `barsystems`.`orcamento_produto` DROP COLUMN `valor_real`;
